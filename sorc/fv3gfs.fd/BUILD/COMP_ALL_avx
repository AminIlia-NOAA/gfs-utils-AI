#!/bin/tcsh

set pwd = `pwd`
setenv FV3_GFS_SRC $pwd:h/fv3_gfsphysics/

source ../site/env.cshrc

mkdir -p ./bin

# make non-hydrostatic prod 64bit
  set type = "nh"
  set comp = "prod"
  set bit  = "64bit"
  set avx  = "Y"
  echo "  building ${type} ${comp} ${bit} \t `date`"
    ./mk_paths                             > & build_${type}_${comp}.${bit}.out
    ./mk_makefile ${type} clean           >> & build_${type}_${comp}.${bit}.out
    ./mk_make ${comp} ${bit} ${avx} clean >> & build_${type}_${comp}.${bit}.out
    mv exec/test.x bin/fv3_gfs_${type}.${comp}.${bit}.x


# make non-hydrostatic prod 32bit
  set type = "nh"
  set comp = "prod"
  set bit  = "32bit"
  set avx  = "Y"
  echo "  building ${type} ${comp} ${bit} \t `date`"
    ./mk_paths                             > & build_${type}_${comp}.${bit}.out
    ./mk_makefile ${type} clean           >> & build_${type}_${comp}.${bit}.out
    ./mk_make ${comp} ${bit} ${avx} clean >> & build_${type}_${comp}.${bit}.out
    mv exec/test.x bin/fv3_gfs_${type}.${comp}.${bit}.x

exit
